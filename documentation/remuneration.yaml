securityDefinitions:
  APIKeyHeader:
    type: apiKey
    in: header
    name: Authorization

paths:
  /employee/remuneration:
    get:
      security:
        - APIKeyHeader: []
      tags:
        - Employee remunerations
      summary: Get all remunerations
      produces:
        - application/json
      parameters:
        - in: query
          name: dateStart
          required: false
          description: | 
            Return the remunerations created **after** this date. 
            Must be used together with `dateEnd`.
            Format: `yyyy/MM/dd`
            Example: `2020/07/14`
          schema:
            type: string 
            format: date 
        - in: query
          name: dateEnd
          required: false
          description: | 
            Return the remunerations created **before** this date. 
            Must be used together with `dateStart`. 
            Format: `yyyy/MM/dd`
            Example: `2020/07/21`
          schema:
            type: string
            format: date 
      responses:
        200:
          description: Remunerations successfully retrieved
        500:
          description: Unexpected error
  /employee/{employeeId}/remuneration:
    post:
      security:
        - APIKeyHeader: []
      tags:
        - Employee remunerations
      summary: Creates a new remuneration by an employee id
      produces:
        - application/json
      parameters:
        - in: path
          name: employeeId
          required: true
          description: The employee identifier
          schema:
            type: string
        - in: body
          name: body
          required: true
          example:
            date: "2020-07-14"
            details: [
              {
                description: "Gross monthly salary",
                value: 2000
              },
              {
                description: "Bonus",
                value: 200
              },
              {
                description: "Social security",
                value: -200
              },
              {
                description: "Taxes",
                value: -300
              }
            ]
      responses:
        200:
          description: Remuneration successfully created
        400:
          description: Validation error. Verify the request's body.
        500:
          description: Unexpected error
    get:
      security:
        - APIKeyHeader: []
      tags:
        - Employee remunerations
      summary: Get all remunerations for a specified employee by its employee id
      produces:
        - application/json
      parameters:
        - in: path
          name: employeeId
          required: true
          description: The employee identifier
          schema:
            type: string
      responses:
        200:
          description: Remunerations successfully retrieved
        500:
          description: Unexpected error
  /employee/{employeeId}/remuneration/{remunerationId}:
    get:
      security:
        - APIKeyHeader: []
      tags:
        - Employee remunerations
      summary: Get a remuneration by an employee id and a remuneration id.
      produces:
        - application/json
      parameters:
        - in: path
          name: employeeId
          required: true
          description: The employee identifier
          schema:
            type: string
        - in: path
          name: remunerationId
          required: true
          description: The remuneration identifier
          schema:
            type: string
      responses:
        200:
          description: Remuneration successfully retrieved
        400:
          description: Please check parameters correctness
        500:
          description: Unexpected error 
