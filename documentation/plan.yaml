securityDefinitions:
  APIKeyHeader:
    type: apiKey
    in: header
    name: Authorization

paths:
  /plan:
    post:
      security:
        - APIKeyHeader: []
      tags:
        - Plan
      summary: Create a new plan
      produces:
        - application/json
      parameters:
        - in: body
          name: body. frecuency values are 'daily', 'weekly', 'biweekly', 'monthly', 'biannual' or 'yearly'
          required: true
          example:
            name: Pay for 6 months!
            frecuency: biannual
            price: 199
      responses:
        200:
          description: Plan successfully created
        400:
          description: Validation error. Verify the request's body.
        500:
          description: Unexpected error
    get:
      security:
        - APIKeyHeader: []
      tags:
        - Plan
      summary: Get all plans
      produces:
        - application/json
      responses:
        200:
          description: Plans successfully retrieved
        500:
          description: Unexpected error
  /plan/{id}:
    delete:
      security:
        - APIKeyHeader: []
      tags:
        - Plan
      summary: Delete a plan by id
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          description: The plan identifier
          schema:
            type: string
      responses:
        200:
          description: Plan successfully deleted
        400:
          description: Validation error. Verify the plan's identifier
        500:
          description: Unexpected error
    put:
      security:
        - APIKeyHeader: []
      tags:
        - Plan
      summary: Update a plan by id
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          description: The plan identifier
          schema:
            type: string
        - in: body
          name: body. Frequency values are 'daily', 'weekly', 'biweekly', 'monthly', 'biannual' or 'yearly'
          required: true
          example:
            name: Pay for 6 months!
            frecuency: biannual
            price: 199
      responses:
        200:
          description: Plan successfully updated
        400:
          description: Validation error. Verify the request's body and identifier.
        500:
          description: Unexpected error
